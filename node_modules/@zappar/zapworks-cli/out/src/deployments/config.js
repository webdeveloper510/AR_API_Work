"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setStoredConfig = exports.getStoredConfig = void 0;
const ConfigStore = require("configstore");
const path = require("path");
const configStore = new ConfigStore('zappar-zapworks-cli');
function getStoredConfig(rootDirectory) {
    const key = `SavedConfig:${path.resolve(rootDirectory)}`;
    return configStore.get(key) || {};
}
exports.getStoredConfig = getStoredConfig;
function setStoredConfig(rootDirectory, config) {
    config = JSON.parse(JSON.stringify(config));
    delete config.zipPath;
    delete config.version;
    delete config.triggered;
    delete config.directory;
    configStore.set(`SavedConfig:${path.resolve(rootDirectory)}`, config);
}
exports.setStoredConfig = setStoredConfig;
